<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A utility to track, normalize, and shape eHydro data for cloud access and rapid deployment as model surface data.">
<title>eHydro database accessibility and processing tools • ePydRo</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="eHydro database accessibility and processing tools">
<meta property="og:description" content="A utility to track, normalize, and shape eHydro data for cloud access and rapid deployment as model surface data.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">ePydRo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.8</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="articles/index.html">Articles</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/NOAA-OWP/ePydRo/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p><img src="https://github.com/JamesColl-NOAA/ePydRo/blob/dev/man/figures/3bcf273d-2154-42a0-8c19-6d6954d3bca2.png"></p>
<!-- badges: start -->

<div class="section level1">
<div class="page-header"><h1 id="executive-summary">Executive Summary<a class="anchor" aria-label="anchor" href="#executive-summary"></a>
</h1></div>
<p>The <a href="https://www.arcgis.com/apps/dashboards/4b8f2ba307684cf597617bf1b6d2f85d" class="external-link">eHydro database</a> represents a gold standard in river bathymetry measurements, composed of a living record of acoustic soundings and depth surveys across navigable waterways at regular intervals and approved by the US army Corp of Engineers. However. utilizing that data still requires a great deal of manual manipulation in order to meet the range of applications this data can augment. The ePydRo (eHydro with both Python and R) software presented here solves much of this by normalizng the ever-growing database of eHydro measurements into a form amenable for power users with fine grain access controls.</p>
</div>
<div class="section level1">
<h1 id="publicly-facing-catalog">Publicly facing catalog<a class="anchor" aria-label="anchor" href="#publicly-facing-catalog"></a>
</h1>
<p>See the transformed and staged versions of these data <a href="https://spatial.dev.water.noaa.gov/data/surface/nws-ehydro/" class="external-link">here</a></p>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<p>As the badges above indicate, this package is Active and experimental. Breaking changes will result in new data structures</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")                  # You only need this if this is your very first time opening RStudio</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"NOAA-OWP/ePydRo"</span><span class="op">)</span>    <span class="co"># If it asks for package updates: press 1</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="fu">ePydRo</span><span class="fu">::</span><span class="fu"><a href="reference/marco.html">marco</a></span><span class="op">(</span><span class="op">)</span>                           <span class="co"># A "hello world" test</span></span></code></pre></div>
<blockquote>
<p>Note: ePydRo is an opinionated processing and staging utility for the already quite expansive <a href="https://www.arcgis.com/apps/dashboards/4b8f2ba307684cf597617bf1b6d2f85d" class="external-link">USACE Hydrographic Survey (eHydro) survey database</a>. Users who are interested in directly working with that data may be better off starting from that authoritative source. This repository stages that data in accessible and analysis ready forms for consumption across the hydrofabric and adjacent efforts.</p>
</blockquote>
<div class="section level2">
<h2 id="tutorials">Tutorials<a class="anchor" aria-label="anchor" href="#tutorials"></a>
</h2>
</div>
<div class="section level2">
<h2 id="explainers">Explainers<a class="anchor" aria-label="anchor" href="#explainers"></a>
</h2>
<div class="section level3">
<h3 id="whats-epydro">What’s ePydRo?<a class="anchor" aria-label="anchor" href="#whats-epydro"></a>
</h3>
<p>Short answer?: This is a suite of tools and scripts written in both Python and R that are used to manipulate the eHydro database into a form that can be used for intimidate integration into the NOAA master modeling surface.</p>
<p>Slightly longer version: Measuring the landscape is a complex science with several critical methodological inflection points that bake assumptions into the data that is read off the survey pole, recorded in the computer, pushed through the internal processing pipeline, and delivered to a client for hosting to the end users. At that point those end users (us) come along and discover that the data is not in a form immediately integrable into our workflow. For some applications, addressing this can simply be a means of harmonizing the naming schema between the two databases but in the case of terrain and elevations, the process of “harmonizing that naming schema” involves complex datum transformations and re-projections that place that measured point in the correct spot for the intended space.</p>
<p>This application transforms the eHydro data from their recorded datum to a normalized universal datum and reshapes the data structure to a more efficient form amenable to cloud access patterns and partial reads as an analysis ready value used to plug into the living master modeling surface constructed by the hydrofabric team.</p>
</div>
<div class="section level3">
<h3 id="how-does-epydro-data-flow">How does ePydRo data flow?<a class="anchor" aria-label="anchor" href="#how-does-epydro-data-flow"></a>
</h3>
<div class="float">
<img src="https://github.com/JamesColl-NOAA/ePydRo/blob/dev/man/figures/_9743a3fb7f8bf395e9f8ac2282cc5490.png" alt="_9743a3fb7f8bf395e9f8ac2282cc5490.png"><div class="figcaption">_9743a3fb7f8bf395e9f8ac2282cc5490.png</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="howtos">HowTo’s<a class="anchor" aria-label="anchor" href="#howtos"></a>
</h2>
<p>The general workflow in cookbook form: ```{r} ehydro_root &lt;- “~/data/ePydRo” ePydRo::collect_ehydro(ehydro_root)</p>
</div>
</div>
<div class="section level1">
<h1 id="surveys-around-puerto-rico-virgin-islands">Surveys around puerto-rico-virgin-islands<a class="anchor" aria-label="anchor" href="#surveys-around-puerto-rico-virgin-islands"></a>
</h1>
<p>epydro_tracker &lt;- sf::st_read(file.path(ehydro_root,“epydro_SurveyJob.fgb”,fsep = .Platform$file.sep)) pr_surveys &lt;- epydro_tracker[AOI::geocode(“Puerto Rico” ,bbox = TRUE) |&gt; sf::st_buffer(dist = 7000),]</p>
<p>ePydRo::scrape_and_transform(ehydro_root,row.names(pr_surveys)[3]) ePydRo::to_tiff_and_stage(ehydro_root,row.names(pr_surveys)[3],“~/data/ePydRo/puerto-rico-virgin-islands”) ```</p>
<div class="section level2">
<h2 id="credits-and-references">Credits and references<a class="anchor" aria-label="anchor" href="#credits-and-references"></a>
</h2>
<p>Credit to the packages used in the development, testing, and deployment of this package not exclusive of the ones found in the <a href="https://github.com/NOAA-OWP/ePydRo/blob/dev/DESCRIPTION" class="external-link">DESCRIPTION</a> file. We are incredibly grateful to the <a href="https://www.sam.usace.army.mil/Missions/Spatial-Data-Branch/" class="external-link">USACE eHydro</a> team for the phenomenal job they do orchestrating the nations hydrographic survey collection and the open dissemination pattern they use.</p>
<div class="section level3">
<h3 id="for-questions">For questions<a class="anchor" aria-label="anchor" href="#for-questions"></a>
</h3>
<p><a href="james.coll@noaa.gov">Jim Coll</a> (FIM Developer), <a href="mike.johnson@noaa.gov">Mike Johnson</a> (Geospatial Science and Technology lead), <a href="fernando.salas@noaa.gov">Fernando Salas</a> (Director, OWP Geospatial Intelligence Division)</p>
</div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/NOAA-OWP/ePydRo/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/NOAA-OWP/ePydRo/issues/new" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ePydRo</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jim Coll <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6994-6668" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://water.noaa.gov/about/nwm" class="external-link"><img src="https://raw.githubusercontent.com/NOAA-OWP/RRASSLER/refs/heads/dev/man/figures/noaa-logo.png" height="36" alt="NOAA OWP"></a> <br><small class="roles"> Funder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active"></a></li>
<li><a href="https://choosealicense.com/licenses/mit/" class="external-link"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jim Coll, <a href="https://water.noaa.gov/about/nwm" class="external-link"><img src="https://raw.githubusercontent.com/NOAA-OWP/RRASSLER/refs/heads/dev/man/figures/noaa-logo.png" height="36" alt="NOAA OWP"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
